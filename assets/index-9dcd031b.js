var oe=Object.defineProperty;var re=(t,e,o)=>e in t?oe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var L=(t,e,o)=>(re(t,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();function h(){}function J(t){return t()}function R(){return Object.create(null)}function A(t){t.forEach(J)}function Q(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function ie(t){return Object.keys(t).length===0}function W(t,e){t.appendChild(e)}function p(t,e,o){t.insertBefore(e,o||null)}function _(t){t.parentNode&&t.parentNode.removeChild(t)}function X(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function g(t){return document.createElement(t)}function B(t){return document.createTextNode(t)}function ce(){return B(" ")}function le(){return B("")}function Z(t,e,o,i){return t.addEventListener(e,o,i),()=>t.removeEventListener(e,o,i)}function b(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function fe(t){return Array.from(t.childNodes)}function se(t,e){e=""+e,t.data!==e&&(t.data=e)}function ue(t,e,{bubbles:o=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:o,cancelable:i})}let O;function M(t){O=t}function ae(){if(!O)throw new Error("Function called outside component initialization");return O}function de(){const t=ae();return(e,o,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const n=ue(e,o,{cancelable:i});return r.slice().forEach(f=>{f.call(t,n)}),!n.defaultPrevented}return!0}}const y=[],$=[];let k=[];const z=[],_e=Promise.resolve();let C=!1;function me(){C||(C=!0,_e.then(x))}function P(t){k.push(t)}function he(t){z.push(t)}const N=new Set;let v=0;function x(){if(v!==0)return;const t=O;do{try{for(;v<y.length;){const e=y[v];v++,M(e),pe(e.$$)}}catch(e){throw y.length=0,v=0,e}for(M(null),y.length=0,v=0;$.length;)$.pop()();for(let e=0;e<k.length;e+=1){const o=k[e];N.has(o)||(N.add(o),o())}k.length=0}while(y.length);for(;z.length;)z.pop()();C=!1,N.clear(),M(t)}function pe(t){if(t.fragment!==null){t.update(),A(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(P)}}function ge(t){const e=[],o=[];k.forEach(i=>t.indexOf(i)===-1?e.push(i):o.push(i)),o.forEach(i=>i()),k=e}const S=new Set;let w;function ee(){w={r:0,c:[],p:w}}function te(){w.r||A(w.c),w=w.p}function m(t,e){t&&t.i&&(S.delete(t),t.i(e))}function E(t,e,o,i){if(t&&t.o){if(S.has(t))return;S.add(t),w.c.push(()=>{S.delete(t),i&&(o&&t.d(1),i())}),t.o(e)}else i&&i()}function q(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function be(t,e,o){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=o,o(t.$$.ctx[i]))}function ne(t){t&&t.c()}function I(t,e,o){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,o),P(()=>{const n=t.$$.on_mount.map(J).filter(Q);t.$$.on_destroy?t.$$.on_destroy.push(...n):A(n),t.$$.on_mount=[]}),r.forEach(P)}function F(t,e){const o=t.$$;o.fragment!==null&&(ge(o.after_update),A(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function we(t,e){t.$$.dirty[0]===-1&&(y.push(t),me(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function T(t,e,o,i,r,n,f=null,s=[-1]){const a=O;M(t);const u=t.$$={fragment:null,ctx:[],props:n,update:h,not_equal:r,bound:R(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:R(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};f&&f(u.root);let c=!1;if(u.ctx=o?o(t,e.props||{},(l,d,...H)=>{const K=H.length?H[0]:d;return u.ctx&&r(u.ctx[l],u.ctx[l]=K)&&(!u.skip_bound&&u.bound[l]&&u.bound[l](K),c&&we(t,l)),d}):[],u.update(),c=!0,A(u.before_update),u.fragment=i?i(u.ctx):!1,e.target){if(e.hydrate){const l=fe(e.target);u.fragment&&u.fragment.l(l),l.forEach(_)}else u.fragment&&u.fragment.c();e.intro&&m(t.$$.fragment),I(t,e.target,e.anchor),x()}M(a)}class D{constructor(){L(this,"$$");L(this,"$$set")}$destroy(){F(this,1),this.$destroy=h}$on(e,o){if(!Q(o))return h;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(o),()=>{const r=i.indexOf(o);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!ie(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ve="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ve);function ye(t){let e;function o(n,f){return n[1]=="mine"?Oe:Me}let i=o(t),r=i(t);return{c(){e=g("div"),r.c(),b(e,"class","cell open center svelte-1ytmq46")},m(n,f){p(n,e,f),r.m(e,null)},p(n,f){i===(i=o(n))&&r?r.p(n,f):(r.d(1),r=i(n),r&&(r.c(),r.m(e,null)))},d(n){n&&_(e),r.d()}}}function ke(t){let e,o,i;return{c(){e=g("div"),e.innerHTML='<p class="svelte-1ytmq46">?</p>',b(e,"class","cell flagged center svelte-1ytmq46")},m(r,n){p(r,e,n),o||(i=Z(e,"click",t[2]),o=!0)},p:h,d(r){r&&_(e),o=!1,i()}}}function Ee(t){let e,o,i;return{c(){e=g("div"),b(e,"class","cell hidden center svelte-1ytmq46")},m(r,n){p(r,e,n),o||(i=Z(e,"click",t[2]),o=!0)},p:h,d(r){r&&_(e),o=!1,i()}}}function Me(t){let e,o;return{c(){e=g("p"),o=B(t[1]),b(e,"class","svelte-1ytmq46")},m(i,r){p(i,e,r),W(e,o)},p(i,r){r&2&&se(o,i[1])},d(i){i&&_(e)}}}function Oe(t){let e;return{c(){e=g("p"),e.textContent="boom!",b(e,"class","svelte-1ytmq46")},m(o,i){p(o,e,i)},p:h,d(o){o&&_(e)}}}function Ae(t){let e;function o(n,f){return n[0]=="hidden"?Ee:n[0]=="flagged"?ke:ye}let i=o(t),r=i(t);return{c(){r.c(),e=le()},m(n,f){r.m(n,f),p(n,e,f)},p(n,[f]){i===(i=o(n))&&r?r.p(n,f):(r.d(1),r=i(n),r&&(r.c(),r.m(e.parentNode,e)))},i:h,o:h,d(n){n&&_(e),r.d(n)}}}function Se(t,e,o){const i=de();let{content:r}=e,{x:n}=e,{y:f}=e,{state:s="hidden"}=e;const a=()=>{o(0,s="open"),r=="mine"&&i("loose_game",{}),r==0&&i("zero_uncovered",{x:n,y:f})};return t.$$set=u=>{"content"in u&&o(1,r=u.content),"x"in u&&o(3,n=u.x),"y"in u&&o(4,f=u.y),"state"in u&&o(0,s=u.state)},[s,r,a,n,f]}class qe extends D{constructor(e){super(),T(this,e,Se,Ae,j,{content:1,x:3,y:4,state:0})}}function U(t,e,o){const i=t.slice();return i[7]=e[o],i}function V(t,e,o){const i=t.slice();return i[10]=e[o],i[11]=e,i[12]=o,i}function Y(t){let e,o,i;function r(f){t[5](f,t[10])}let n={content:t[10].content,x:t[10].x,y:t[10].y};return t[10].state!==void 0&&(n.state=t[10].state),e=new qe({props:n}),$.push(()=>be(e,"state",r)),e.$on("loose_game",t[1]),e.$on("zero_uncovered",t[2]),{c(){ne(e.$$.fragment)},m(f,s){I(e,f,s),i=!0},p(f,s){t=f;const a={};s&1&&(a.content=t[10].content),s&1&&(a.x=t[10].x),s&1&&(a.y=t[10].y),!o&&s&1&&(o=!0,a.state=t[10].state,he(()=>o=!1)),e.$set(a)},i(f){i||(m(e.$$.fragment,f),i=!0)},o(f){E(e.$$.fragment,f),i=!1},d(f){F(e,f)}}}function G(t){let e,o,i,r=q(t[7]),n=[];for(let s=0;s<r.length;s+=1)n[s]=Y(V(t,r,s));const f=s=>E(n[s],1,1,()=>{n[s]=null});return{c(){e=g("div");for(let s=0;s<n.length;s+=1)n[s].c();o=ce(),b(e,"class","row svelte-1ntdxi9")},m(s,a){p(s,e,a);for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(e,null);W(e,o),i=!0},p(s,a){if(a&7){r=q(s[7]);let u;for(u=0;u<r.length;u+=1){const c=V(s,r,u);n[u]?(n[u].p(c,a),m(n[u],1)):(n[u]=Y(c),n[u].c(),m(n[u],1),n[u].m(e,o))}for(ee(),u=r.length;u<n.length;u+=1)f(u);te()}},i(s){if(!i){for(let a=0;a<r.length;a+=1)m(n[a]);i=!0}},o(s){n=n.filter(Boolean);for(let a=0;a<n.length;a+=1)E(n[a]);i=!1},d(s){s&&_(e),X(n,s)}}}function Le(t){let e,o,i=q(t[0]),r=[];for(let f=0;f<i.length;f+=1)r[f]=G(U(t,i,f));const n=f=>E(r[f],1,1,()=>{r[f]=null});return{c(){e=g("div");for(let f=0;f<r.length;f+=1)r[f].c();b(e,"class","field svelte-1ntdxi9")},m(f,s){p(f,e,s);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null);o=!0},p(f,[s]){if(s&7){i=q(f[0]);let a;for(a=0;a<i.length;a+=1){const u=U(f,i,a);r[a]?(r[a].p(u,s),m(r[a],1)):(r[a]=G(u),r[a].c(),m(r[a],1),r[a].m(e,null))}for(ee(),a=i.length;a<r.length;a+=1)n(a);te()}},i(f){if(!o){for(let s=0;s<i.length;s+=1)m(r[s]);o=!0}},o(f){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)E(r[s]);o=!1},d(f){f&&_(e),X(r,f)}}}function Ne(t,e,o){let{field_size:i=8}=e,{n_mines:r=10}=e,n=Array(i+2).fill(0).map(c=>Array(i+2).fill(0));for(let c=0;c<i+2;c++)for(let l=0;l<i+2;l++)n[c][l]={content:0};console.log(n);for(let c=0;c<r;c++){let l=Math.floor(Math.random()*i+1),d=Math.floor(Math.random()*i+1);for(;n[l][d].content=="mine";)l=Math.floor(Math.random()*i+1),d=Math.floor(Math.random()*i+1);n[l][d].content="mine"}for(let c=1;c<i+1;c++)for(let l=1;l<i+1;l++){if(n[c][l].x=c-1,n[c][l].y=l-1,n[c][l].state="hidden",n[c][l].content=="mine")continue;let d=0;n[c-1][l-1].content=="mine"&&d++,n[c-1][l].content=="mine"&&d++,n[c-1][l+1].content=="mine"&&d++,n[c][l-1].content=="mine"&&d++,n[c][l+1].content=="mine"&&d++,n[c+1][l-1].content=="mine"&&d++,n[c+1][l].content=="mine"&&d++,n[c+1][l+1].content=="mine"&&d++,n[c][l].content=d}n=n.slice(1,-1),n=n.map(c=>c.slice(1,-1));const f=c=>{alert("You loose!")},s=(c,l)=>{o(0,n[c][l].state="open",n),c>0&&(l>0&&(n[c-1][l-1].content==0&&n[c-1][l-1].state!="open"&&s(c-1,l-1),o(0,n[c-1][l-1].state="open",n)),n[c-1][l].content==0&&n[c-1][l].state!="open"&&s(c-1,l),o(0,n[c-1][l].state="open",n),l<i-1&&(n[c-1][l+1].content==0&&n[c-1][l+1].state!="open"&&s(c-1,l+1),o(0,n[c-1][l+1].state="open",n))),l>0&&(n[c][l-1].content==0&&n[c][l-1].state!="open"&&s(c,l-1),o(0,n[c][l-1].state="open",n)),l+1<i&&(n[c][l+1].content==0&&n[c][l+1].state!="open"&&s(c,l+1),o(0,n[c][l+1].state="open",n)),c+1<i&&(l>0&&(n[c+1][l-1].content==0&&n[c+1][l-1].state!="open"&&s(c+1,l-1),o(0,n[c+1][l-1].state="open",n)),n[c+1][l].content==0&&n[c+1][l].state!="open"&&s(c+1,l),o(0,n[c+1][l].state="open",n),l+1<i&&(n[c+1][l+1].content==0&&n[c+1][l+1].state!="open"&&s(c+1,l+1),o(0,n[c+1][l+1].state="open",n)))},a=c=>{s(c.detail.x,c.detail.y)};function u(c,l){t.$$.not_equal(l.state,c)&&(l.state=c,o(0,n))}return t.$$set=c=>{"field_size"in c&&o(3,i=c.field_size),"n_mines"in c&&o(4,r=c.n_mines)},[n,f,a,i,r,u]}class $e extends D{constructor(e){super(),T(this,e,Ne,Le,j,{field_size:3,n_mines:4})}}function ze(t){let e,o,i;return o=new $e({}),{c(){e=g("main"),ne(o.$$.fragment),b(e,"class","svelte-u9qvfs")},m(r,n){p(r,e,n),I(o,e,null),i=!0},p:h,i(r){i||(m(o.$$.fragment,r),i=!0)},o(r){E(o.$$.fragment,r),i=!1},d(r){r&&_(e),F(o)}}}function Ce(t,e,o){let{name:i}=e;return t.$$set=r=>{"name"in r&&o(0,i=r.name)},[i]}class Pe extends D{constructor(e){super(),T(this,e,Ce,ze,j,{name:0})}}new Pe({target:document.body,props:{name:"world"}});
