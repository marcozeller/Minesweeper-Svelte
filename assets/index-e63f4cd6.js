var re=Object.defineProperty;var ie=(t,e,o)=>e in t?re(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o;var L=(t,e,o)=>(ie(t,typeof e!="symbol"?e+"":e,o),o);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const n of r)if(n.type==="childList")for(const f of n.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&i(f)}).observe(document,{childList:!0,subtree:!0});function o(r){const n={};return r.integrity&&(n.integrity=r.integrity),r.referrerPolicy&&(n.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?n.credentials="include":r.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function i(r){if(r.ep)return;r.ep=!0;const n=o(r);fetch(r.href,n)}})();function h(){}function Q(t){return t()}function U(){return Object.create(null)}function v(t){t.forEach(Q)}function W(t){return typeof t=="function"}function B(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function le(t){return Object.keys(t).length===0}function X(t,e){t.appendChild(e)}function p(t,e,o){t.insertBefore(e,o||null)}function _(t){t.parentNode&&t.parentNode.removeChild(t)}function Z(t,e){for(let o=0;o<t.length;o+=1)t[o]&&t[o].d(e)}function g(t){return document.createElement(t)}function I(t){return document.createTextNode(t)}function ce(){return I(" ")}function fe(){return I("")}function q(t,e,o,i){return t.addEventListener(e,o,i),()=>t.removeEventListener(e,o,i)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function b(t,e,o){o==null?t.removeAttribute(e):t.getAttribute(e)!==o&&t.setAttribute(e,o)}function se(t){return Array.from(t.childNodes)}function ue(t,e){e=""+e,t.data!==e&&(t.data=e)}function ae(t,e,{bubbles:o=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:o,cancelable:i})}let A;function O(t){A=t}function de(){if(!A)throw new Error("Function called outside component initialization");return A}function _e(){const t=de();return(e,o,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const n=ae(e,o,{cancelable:i});return r.slice().forEach(f=>{f.call(t,n)}),!n.defaultPrevented}return!0}}const k=[],z=[];let E=[];const P=[],me=Promise.resolve();let $=!1;function he(){$||($=!0,me.then(ee))}function j(t){E.push(t)}function pe(t){P.push(t)}const N=new Set;let y=0;function ee(){if(y!==0)return;const t=A;do{try{for(;y<k.length;){const e=k[y];y++,O(e),ge(e.$$)}}catch(e){throw k.length=0,y=0,e}for(O(null),k.length=0,y=0;z.length;)z.pop()();for(let e=0;e<E.length;e+=1){const o=E[e];N.has(o)||(N.add(o),o())}E.length=0}while(k.length);for(;P.length;)P.pop()();$=!1,N.clear(),O(t)}function ge(t){if(t.fragment!==null){t.update(),v(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(j)}}function be(t){const e=[],o=[];E.forEach(i=>t.indexOf(i)===-1?e.push(i):o.push(i)),o.forEach(i=>i()),E=e}const S=new Set;let w;function te(){w={r:0,c:[],p:w}}function ne(){w.r||v(w.c),w=w.p}function m(t,e){t&&t.i&&(S.delete(t),t.i(e))}function M(t,e,o,i){if(t&&t.o){if(S.has(t))return;S.add(t),w.c.push(()=>{S.delete(t),i&&(o&&t.d(1),i())}),t.o(e)}else i&&i()}function C(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function we(t,e,o){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=o,o(t.$$.ctx[i]))}function oe(t){t&&t.c()}function D(t,e,o){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,o),j(()=>{const n=t.$$.on_mount.map(Q).filter(W);t.$$.on_destroy?t.$$.on_destroy.push(...n):v(n),t.$$.on_mount=[]}),r.forEach(j)}function F(t,e){const o=t.$$;o.fragment!==null&&(be(o.after_update),v(o.on_destroy),o.fragment&&o.fragment.d(e),o.on_destroy=o.fragment=null,o.ctx=[])}function ve(t,e){t.$$.dirty[0]===-1&&(k.push(t),he(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(t,e,o,i,r,n,f=null,s=[-1]){const u=A;O(t);const a=t.$$={fragment:null,ctx:[],props:n,update:h,not_equal:r,bound:U(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:U(),dirty:s,skip_bound:!1,root:e.target||u.$$.root};f&&f(a.root);let l=!1;if(a.ctx=o?o(t,e.props||{},(c,d,...H)=>{const K=H.length?H[0]:d;return a.ctx&&r(a.ctx[c],a.ctx[c]=K)&&(!a.skip_bound&&a.bound[c]&&a.bound[c](K),l&&ve(t,c)),d}):[],a.update(),l=!0,v(a.before_update),a.fragment=i?i(a.ctx):!1,e.target){if(e.hydrate){const c=se(e.target);a.fragment&&a.fragment.l(c),c.forEach(_)}else a.fragment&&a.fragment.c();e.intro&&m(t.$$.fragment),D(t,e.target,e.anchor),ee()}O(u)}class T{constructor(){L(this,"$$");L(this,"$$set")}$destroy(){F(this,1),this.$destroy=h}$on(e,o){if(!W(o))return h;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(o),()=>{const r=i.indexOf(o);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!le(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ye="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ye);function ke(t){let e;function o(n,f){return n[1]=="mine"?Ae:Oe}let i=o(t),r=i(t);return{c(){e=g("div"),r.c(),b(e,"class","cell open center svelte-1ytmq46")},m(n,f){p(n,e,f),r.m(e,null)},p(n,f){i===(i=o(n))&&r?r.p(n,f):(r.d(1),r=i(n),r&&(r.c(),r.m(e,null)))},d(n){n&&_(e),r.d()}}}function Ee(t){let e,o,i;return{c(){e=g("div"),e.innerHTML='<p class="svelte-1ytmq46">?</p>',b(e,"class","cell flagged center svelte-1ytmq46")},m(r,n){p(r,e,n),o||(i=[q(e,"click",t[2]),q(e,"contextmenu",x(t[3]))],o=!0)},p:h,d(r){r&&_(e),o=!1,v(i)}}}function Me(t){let e,o,i;return{c(){e=g("div"),b(e,"class","cell hidden center svelte-1ytmq46")},m(r,n){p(r,e,n),o||(i=[q(e,"click",t[2]),q(e,"contextmenu",x(t[3]))],o=!0)},p:h,d(r){r&&_(e),o=!1,v(i)}}}function Oe(t){let e,o;return{c(){e=g("p"),o=I(t[1]),b(e,"class","svelte-1ytmq46")},m(i,r){p(i,e,r),X(e,o)},p(i,r){r&2&&ue(o,i[1])},d(i){i&&_(e)}}}function Ae(t){let e;return{c(){e=g("p"),e.textContent="boom!",b(e,"class","svelte-1ytmq46")},m(o,i){p(o,e,i)},p:h,d(o){o&&_(e)}}}function Se(t){let e;function o(n,f){return n[0]=="hidden"?Me:n[0]=="flagged"?Ee:ke}let i=o(t),r=i(t);return{c(){r.c(),e=fe()},m(n,f){r.m(n,f),p(n,e,f)},p(n,[f]){i===(i=o(n))&&r?r.p(n,f):(r.d(1),r=i(n),r&&(r.c(),r.m(e.parentNode,e)))},i:h,o:h,d(n){n&&_(e),r.d(n)}}}function qe(t,e,o){const i=_e();let{content:r}=e,{x:n}=e,{y:f}=e,{state:s="hidden"}=e;const u=()=>{o(0,s="open"),r=="mine"&&i("loose_game",{}),r==0&&i("zero_uncovered",{x:n,y:f})},a=()=>{if(s=="flagged"){o(0,s="hidden");return}else if(s=="hidden"){o(0,s="flagged");return}};return t.$$set=l=>{"content"in l&&o(1,r=l.content),"x"in l&&o(4,n=l.x),"y"in l&&o(5,f=l.y),"state"in l&&o(0,s=l.state)},[s,r,u,a,n,f]}class Ce extends T{constructor(e){super(),R(this,e,qe,Se,B,{content:1,x:4,y:5,state:0})}}function V(t,e,o){const i=t.slice();return i[7]=e[o],i}function Y(t,e,o){const i=t.slice();return i[10]=e[o],i[11]=e,i[12]=o,i}function G(t){let e,o,i;function r(f){t[5](f,t[10])}let n={content:t[10].content,x:t[10].x,y:t[10].y};return t[10].state!==void 0&&(n.state=t[10].state),e=new Ce({props:n}),z.push(()=>we(e,"state",r)),e.$on("loose_game",t[1]),e.$on("zero_uncovered",t[2]),{c(){oe(e.$$.fragment)},m(f,s){D(e,f,s),i=!0},p(f,s){t=f;const u={};s&1&&(u.content=t[10].content),s&1&&(u.x=t[10].x),s&1&&(u.y=t[10].y),!o&&s&1&&(o=!0,u.state=t[10].state,pe(()=>o=!1)),e.$set(u)},i(f){i||(m(e.$$.fragment,f),i=!0)},o(f){M(e.$$.fragment,f),i=!1},d(f){F(e,f)}}}function J(t){let e,o,i,r=C(t[7]),n=[];for(let s=0;s<r.length;s+=1)n[s]=G(Y(t,r,s));const f=s=>M(n[s],1,1,()=>{n[s]=null});return{c(){e=g("div");for(let s=0;s<n.length;s+=1)n[s].c();o=ce(),b(e,"class","row svelte-1ntdxi9")},m(s,u){p(s,e,u);for(let a=0;a<n.length;a+=1)n[a]&&n[a].m(e,null);X(e,o),i=!0},p(s,u){if(u&7){r=C(s[7]);let a;for(a=0;a<r.length;a+=1){const l=Y(s,r,a);n[a]?(n[a].p(l,u),m(n[a],1)):(n[a]=G(l),n[a].c(),m(n[a],1),n[a].m(e,o))}for(te(),a=r.length;a<n.length;a+=1)f(a);ne()}},i(s){if(!i){for(let u=0;u<r.length;u+=1)m(n[u]);i=!0}},o(s){n=n.filter(Boolean);for(let u=0;u<n.length;u+=1)M(n[u]);i=!1},d(s){s&&_(e),Z(n,s)}}}function Le(t){let e,o,i=C(t[0]),r=[];for(let f=0;f<i.length;f+=1)r[f]=J(V(t,i,f));const n=f=>M(r[f],1,1,()=>{r[f]=null});return{c(){e=g("div");for(let f=0;f<r.length;f+=1)r[f].c();b(e,"class","field svelte-1ntdxi9")},m(f,s){p(f,e,s);for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(e,null);o=!0},p(f,[s]){if(s&7){i=C(f[0]);let u;for(u=0;u<i.length;u+=1){const a=V(f,i,u);r[u]?(r[u].p(a,s),m(r[u],1)):(r[u]=J(a),r[u].c(),m(r[u],1),r[u].m(e,null))}for(te(),u=i.length;u<r.length;u+=1)n(u);ne()}},i(f){if(!o){for(let s=0;s<i.length;s+=1)m(r[s]);o=!0}},o(f){r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)M(r[s]);o=!1},d(f){f&&_(e),Z(r,f)}}}function Ne(t,e,o){let{field_size:i=8}=e,{n_mines:r=10}=e,n=Array(i+2).fill(0).map(l=>Array(i+2).fill(0));for(let l=0;l<i+2;l++)for(let c=0;c<i+2;c++)n[l][c]={content:0};console.log(n);for(let l=0;l<r;l++){let c=Math.floor(Math.random()*i+1),d=Math.floor(Math.random()*i+1);for(;n[c][d].content=="mine";)c=Math.floor(Math.random()*i+1),d=Math.floor(Math.random()*i+1);n[c][d].content="mine"}for(let l=1;l<i+1;l++)for(let c=1;c<i+1;c++){if(n[l][c].x=l-1,n[l][c].y=c-1,n[l][c].state="hidden",n[l][c].content=="mine")continue;let d=0;n[l-1][c-1].content=="mine"&&d++,n[l-1][c].content=="mine"&&d++,n[l-1][c+1].content=="mine"&&d++,n[l][c-1].content=="mine"&&d++,n[l][c+1].content=="mine"&&d++,n[l+1][c-1].content=="mine"&&d++,n[l+1][c].content=="mine"&&d++,n[l+1][c+1].content=="mine"&&d++,n[l][c].content=d}n=n.slice(1,-1),n=n.map(l=>l.slice(1,-1));const f=l=>{alert("You loose!")},s=(l,c)=>{o(0,n[l][c].state="open",n),l>0&&(c>0&&(n[l-1][c-1].content==0&&n[l-1][c-1].state!="open"&&s(l-1,c-1),o(0,n[l-1][c-1].state="open",n)),n[l-1][c].content==0&&n[l-1][c].state!="open"&&s(l-1,c),o(0,n[l-1][c].state="open",n),c<i-1&&(n[l-1][c+1].content==0&&n[l-1][c+1].state!="open"&&s(l-1,c+1),o(0,n[l-1][c+1].state="open",n))),c>0&&(n[l][c-1].content==0&&n[l][c-1].state!="open"&&s(l,c-1),o(0,n[l][c-1].state="open",n)),c+1<i&&(n[l][c+1].content==0&&n[l][c+1].state!="open"&&s(l,c+1),o(0,n[l][c+1].state="open",n)),l+1<i&&(c>0&&(n[l+1][c-1].content==0&&n[l+1][c-1].state!="open"&&s(l+1,c-1),o(0,n[l+1][c-1].state="open",n)),n[l+1][c].content==0&&n[l+1][c].state!="open"&&s(l+1,c),o(0,n[l+1][c].state="open",n),c+1<i&&(n[l+1][c+1].content==0&&n[l+1][c+1].state!="open"&&s(l+1,c+1),o(0,n[l+1][c+1].state="open",n)))},u=l=>{s(l.detail.x,l.detail.y)};function a(l,c){t.$$.not_equal(c.state,l)&&(c.state=l,o(0,n))}return t.$$set=l=>{"field_size"in l&&o(3,i=l.field_size),"n_mines"in l&&o(4,r=l.n_mines)},[n,f,u,i,r,a]}class ze extends T{constructor(e){super(),R(this,e,Ne,Le,B,{field_size:3,n_mines:4})}}function Pe(t){let e,o,i;return o=new ze({}),{c(){e=g("main"),oe(o.$$.fragment),b(e,"class","svelte-u9qvfs")},m(r,n){p(r,e,n),D(o,e,null),i=!0},p:h,i(r){i||(m(o.$$.fragment,r),i=!0)},o(r){M(o.$$.fragment,r),i=!1},d(r){r&&_(e),F(o)}}}function $e(t,e,o){let{name:i}=e;return t.$$set=r=>{"name"in r&&o(0,i=r.name)},[i]}class je extends T{constructor(e){super(),R(this,e,$e,Pe,B,{name:0})}}new je({target:document.body,props:{name:"world"}});
